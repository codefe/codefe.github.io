{"sta":1,"data":{"subTitle":"TCP是如何实现三次握手的？","content":"<h3>什么是三次握手</h3><p>TCP是网络传输层的协议,提供面向连接的可靠的字节流服务,要通信得先建立连接\n<br>所谓三次握手就是指,建立一个TCP连接时,需要CLient与Server发送三个包,确认连接的建立\n<br>这一过程由Client执行connect触发\n<br>简单描述下三次握手的具体过程\n<br><h4>第一次握手:\n</h4>Client将SYN置为1,seq=随机值j,将该数据包发送给Server,\n<br>进入SYN_SENT状态,等待Server确认\n<br>\n<br><h4>第二次握手:\n</h4>Server收到数据包由标志位SYN=1知道,是请求建立新连接,\n<br>将ACK置为1,ack=j+1,作为响应Client的请求,\n<br>将SYN置为1,seq=随机值k,发送给Client等待确认,\n<br>Server进入SYN_RECV状态\n<br>因为是建立连接,这些信息在一个数据包中\n<br><br><h4>第三次握手:\n</h4>Client收到响应\n<br>检查ACK==1?,ack==j+1?,若都符合\n<br>将ACK置为1,ack=k+1,发送给Server,Client进入establish状态\n<br>Server收到响应\n<br>检查ACK==1?,ack==k+1?,若都符合\n<br>进入establish状态,三次握手完成,TCP连接建立,开始通信\n<br>\n<br><br><h3>TCP报文图:\n</h3><div><img src=\"/app/json/nodejs/http/imgs/1.png\" style=\"max-width:100%;\"></div><div><img src=\"/app/json/nodejs/http/imgs/2.png\" style=\"max-width:100%;\"></div><div><img src=\"/app/json/nodejs/http/imgs/3.png\" style=\"max-width:100%;\"></div>\n</p>"}}