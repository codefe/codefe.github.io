{"sta":1,"data":{"subTitle":"TCP是如何实现三次握手的？","content":"<h3>什么是三次握手</h3><p>1. TCP是网络传输层的协议,提供面向连接的可靠的字节流服务,要通信得先建立连接\n<br>2. 所谓三次握手就是指,建立一个TCP连接时,需要CLient与Server发送三个包,确认连接的建立\n<br>3. 这一过程由Client执行connect触发\n<br><h3>简单描述下三次握手的具体过程\n</h3><h4>第一次握手:\n</h4><blockquote>Client将SYN置为1,seq=随机值j,将该数据包发送给Server,<br>\n进入SYN_SENT状态,等待Server确认\n</blockquote>\n<br><h4>第二次握手:\n</h4><blockquote>Server收到数据包由标志位SYN=1知道,是请求建立新连接,<br>\n将ACK置为1,ack=j+1,作为响应Client的请求,<br>\n将SYN置为1,seq=随机值k,发送给Client等待确认,<br>\nServer进入SYN_RECV状态<br>\n因为是建立连接,这些信息在一个数据包中\n</blockquote><br><h4>第三次握手:\n</h4><blockquote>Client收到响应<br>\n检查ACK==1?,ack==j+1?,若都符合<br>\n将ACK置为1,ack=k+1,发送给Server,Client进入establish状态<br>\nServer收到响应<br>\n检查ACK==1?,ack==k+1?,若都符合<br>\n进入establish状态,三次握手完成,TCP连接建立,开始通信\n</blockquote>\n<br><br><h3>TCP报文图:\n</h3><div><img src=\"/app/json/nodejs/http/imgs/1.png\" style=\"max-width:100%;\"></div><div><img src=\"/app/json/nodejs/http/imgs/2.png\" style=\"max-width:100%;\"></div><div><img src=\"/app/json/nodejs/http/imgs/3.png\" style=\"max-width:100%;\"></div>\n</p>"}}