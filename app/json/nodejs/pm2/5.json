{"sta":1,"data":{"subTitle":"PM2命令方式","content":"<p>启动服务</p><p><blockquote>pm2 start app.js                //启动app.js应用<br>\npm2 start app.js --name demo    //启动应用并设置name<br>\npm2 start app.sh                //脚本启动\n</blockquote>停止服务\n<br><blockquote>pm2 stop all               //停止所有应用<br>\npm2 stop [AppName]        //根据应用名停止指定应用<br>\npm2 stop [ID]             //根据应用id停止指定应用\n</blockquote>删除应用\n<br><blockquote>pm2 delete all               //关闭并删除应用<br>\npm2 delete [AppName]        //根据应用名关闭并删除应用<br>\npm2 delete [ID]            //根据应用ID关闭并删除应用\n</blockquote>创建开机自启动\n<br><blockquote>pm2 startup\n</blockquote>更新PM2\n<br><blockquote>pm2 updatePM2<br>\npm2 update\n</blockquote>监听模式\n<br><blockquote>pm2 start app.js --watch    //当文件发生变化，自动重启\n</blockquote>静态服务器\n<br><blockquote>pm2 serve ./dist 9090        //将目录dist作为静态服务器根目录，端口为9090\n</blockquote>启用群集模式（自动负载均衡）\n<br><blockquote>//max 表示PM2将自动检测可用CPU的数量并运行尽可能多的进程<br>\n//max可以自定义，如果是4核CPU，设置为2者占用2个<br>\npm2 start app.js -i max\n</blockquote>重新启动\n<br><blockquote>pm2 restart app.js        //同时杀死并重启所有进程。短时间内服务不可用。生成环境推荐使用reload\n</blockquote>0秒停机重新加载\n<br><blockquote>pm2 reload app.js        //重新启动所有进程，始终保持至少一个进程在运行<br>\npm2 gracefulReload all   //优雅地以群集模式重新加载所有应用程序\n</blockquote>查看启动列表\n<br><blockquote>pm2 list\n</blockquote>查看每个应用程序占用情况\n<br><blockquote>pm2 monit\n</blockquote>显示应用程序所有信息\n<br><blockquote>pm2 show [Name]      //根据name查看<br>\npm2 show [ID]        //根据id查看\n</blockquote>日志查看\n<br><blockquote>pm2 logs            //查看所有应用日志<br>\npm2 logs [Name]    //根据指定应用名查看应用日志<br>\npm2 logs [ID]      //根据指定应用ID查看应用日志\n</blockquote>保存当前应用列表\n<br><blockquote>pm2 save\n</blockquote>重启保存的应用列表\n<br><blockquote>pm2 resurrect\n</blockquote>清除保存的应用列表\n<br><blockquote>pm2 cleardump\n</blockquote>保存并恢复PM2进程\n<br><blockquote>pm2 update</blockquote></p><p><br></p><p><br></p>"}}