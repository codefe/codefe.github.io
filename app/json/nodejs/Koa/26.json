{"sta":1,"data":{"subTitle":"koa应用生成器","content":"<p>通过应用 koa 脚手架生成工具 可以快速创建一个基于 koa2 的应用的骨架。<br></p><p>\n<br>1. 全局安装\n<br><blockquote>npm install koa-generator -g\n</blockquote>\n<br>2. 创建项目\n<br><blockquote>koa koa_demo\n</blockquote>\n<br>3. 安装依赖\n<br><blockquote>cd koa_demo<br> \nnpm install\n</blockquote>\n<br>4. 启动项目\n<br><blockquote>npm start\n</blockquote>\n<br>5. koa 搭建模块化路由/层级路由<br><blockquote>    1、在目录下面新建一个文件夹 routes<br>\n    2、在 routes 里面配置对应的子页面<br>\n    3、比如在 routes 新建 index.js</blockquote></p><pre>const Router = require('koa-router');\nlet router = new Router();\nrouter.get('/', async (ctx) =&gt; {\n    ctx.body = \"这是前台首页\";\n})\nrouter.get('/news', async (ctx) =&gt; {\n    ctx.body = '这是前台新闻页面';\n})\nrouter.get('/user', async (ctx) =&gt; {\n    ctx.body = '这是用户页面';\n})\nmodule.exports = router;</pre><p>然后在主应用中加载子路由模块:</p><pre>const Koa = require('koa');\nconst app = new Koa();\nconst Router = require('koa-router');\nlet index = require('./module/index.js');\nlet admin = require('./module/admin.js');\n//装载所有子路由\nlet router = new Router();\nrouter.use('/index',index.routes()); \nrouter.use(' / ',home.routes());\n    //加载路由中间件\napp.use(router.routes());\napp.use(router.allowedMethods());\napp.listen(3000, () =&gt; {\n    console.log('[demo] server is starting at port 3000');\n});</pre><p><br></p>"}}