{"sta":1,"data":{"subTitle":"Koa路由","content":"<p>Koa中的路由和Express有所不同，在Express中直接引入Express就可以配置路由，但是在Koa中我们需要安装对应的koa-router路由模块来实现。&nbsp;</p><blockquote>&nbsp;npm i koa-router -S</blockquote><pre>//引入并实例化它\nconst router = require('koa-router')();\n//使用,ctx中包含了request,response等信息\nrouter.get('/', async (ctx,next)=&gt;{\n    //返回数据，相当于原生里面的res.writeHead() res.end()\n    ctx.body = 'Hello koa-router';\n})\nrouter.get('/news', async (ctx,next)=&gt;{\n    //返回数据，\n    ctx.body = 'Hello news page';\n})\nrouter.get('/article/:id', async (ctx,next)=&gt;{\n    //动态路由返回数据\n    ctx.body = 'Hello article page';\n})\n//启动路由\napp.use(router.routes());\n//官方推荐用法，router.allowedMethods用在了路由匹配router.routes之后\n//当所有路由中间件最后调用，此时根据ctx.status设置response响应头\n//通俗的说就是错误的时候会给你加上响应头\napp.use(router.allowedMethods());</pre><p><br></p><p><br></p>"}}