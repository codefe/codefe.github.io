{"sta":1,"data":{"subTitle":"ejs模板引擎","content":"<h3>1. 安装</h3><p><blockquote>npm i koa-views ejs --save\n</blockquote>\n<br><h3>2. 引入</h3><blockquote>const views = require('koa-views')&nbsp;</blockquote><h3>3.配置</h3><blockquote>app.use(views('views'), { map: {\n        html: 'ejs'\n    }&nbsp;<span style=\"background-color: rgb(255, 255, 255);\">//这种配置模板是.html</span></blockquote></p><p>或</p><blockquote>app.use(views('views', {extension: 'ejs'}))//这种配置模板是.ejs</blockquote><p><h3>4. 使用</h3></p><pre>await ctx.render('模板名称',{\n    title: '标题名称',\n    //...要渲染到前台的数据\n})</pre><p><br></p><p><h3>ejs语法：\n</h3><h4>1. 绑定数据 \n</h4><blockquote>   &lt;%=title%&gt;\n</blockquote>\n<h4>2. 绑定带html的数据 \n</h4><blockquote>   &lt;%-title%&gt;\n</blockquote>\n<h4>3. 循环数据\n</h4><blockquote>   &lt;%for(var i=0;i&lt;list.length;i++){%&gt;<br>\n       &lt;li&gt;&lt;%=list[i]%&gt;&lt;/li&gt;<br>\n   &lt;%}%&gt;\n</blockquote>\n<h4>4. 引入外部ejs文件,注意没有引号\n</h4><blockquote>   &lt;% include public/header.ejs%&gt;\n</blockquote>\n<h4>5. if语句</h4><blockquote>   &lt;%if(){%&gt;\n<br>   &lt;%}else{%&gt;\n<br>   &lt;%}%&gt;\n</blockquote>\n\n\n<br><blockquote><font color=\"#c24f4a\">注意：如果我们需要在每一个路由的render里面都要渲染一个公共的数据\n</font></blockquote><p>需要使用中间件</p></p><pre>app.use(async (ctx,next)=&gt;{\n    //公共数据放在这个里面，模板的任何地方都可以使用\n    ctx.state.userinfo = {\n        name: '张三',\n        sex: '男'\n    };\n    await next();\n})</pre><p><br></p>"}}