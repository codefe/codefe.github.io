{"sta":1,"data":{"subTitle":"Koa操作MongoDB数据库","content":"<p>MongoDB是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。他支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。它的特点是高性能、易部署、易使用，存储数据非常方便。<br></p><p><br>非结构型数据库。没有行、列的概念。用JSON来存储数据。\n<br>\n<br>集合就相当于“表”，文档就相当于“行”。</p><p>MongoDB Node.JS Driver\n<br></p><p><a href=\"https://mongodb.github.io/node-mongodb-native/\" target=\"_blank\">https://mongodb.github.io/node-mongodb-native/</a><br>\n<br><h3>1.安装mongodb\n</h3><blockquote>npm install mongodb --save\n</blockquote>\n<h3>2.引入mongodb下面的MongoClient\n</h3></p><p>const { MongoClient } = require(\"mongodb\");</p><p>\n<br><h3>3.定义数据库连接的地址&nbsp;</h3></p><blockquote>const uri =<br>\n  \"mongodb+srv://&lt;user&gt;:&lt;password&gt;@&lt;cluster-url&gt;?retryWrites=true&amp;writeConcern=majority\";<br>\nor<br> \nconst uri = 'mongodb://localhost:27017';\n<br>const client = new MongoClient(uri);</blockquote><p>\n<br><h3>4.使用</h3></p><pre>async function run() {\n  try {\n    await client.connect();\n    const database = client.db('sample_mflix');\n    const movies = database.collection('movies');\n    const query = { title: 'Back to the Future' };\n    const movie = await movies.findOne(query);\n    console.log(movie);\n  } finally {\n    await client.close();\n  }\n}\nrun().catch(console.dir);</pre><p><br></p>"}}