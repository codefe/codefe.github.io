{"sta":1,"data":{"subTitle":"Koa2操作MongoDB数据库","content":"<p><span>MongoDB是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。他支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。它的特点是高性能、易部署、易使用，存储数据非常方便。</span></p><p><span>非结构型数据库。没有行、列的概念。用JSON来存储数据。</span></p><p></p><p><span>集合就相当于“表”，文档就相当于“行”。</span></p><p><h3>1.安装mongodb</h3><blockquote>npm install mongodb --save\n</blockquote>\n<br><h3> 2.引入mongodb下面的MongoClient</h3><blockquote>    var MongoClient = require('mongodb').MongoClient;\n</blockquote>\n<br><h3> 3.定义数据库连接的地址 以及配置数据库</h3>    koa数据库的名称<br><blockquote>    var url = 'mongodb://localhost:27017/';\n<br>    var dbName = 'koa'\n</blockquote>\n\n<br><h3> 4.nodejs连接数据库</h3><blockquote> MongoClient.connect(url,function(err,client){<br>&nbsp; &nbsp; const db = client.db(dbName);  数据库db对象<br> })\n</blockquote>\n<br><h3>5.操作数据库</h3><blockquote>     MongoClient.connect(url,function(err,db){<br>\n&nbsp; &nbsp; db.collection('user').insertOne({\"name\":\"张三\"},function(err,result){<br>&nbsp; &nbsp; &nbsp; &nbsp; db.close() //关闭连接<br>\n&nbsp; &nbsp; })<br>\n     })</blockquote></p><p><span><br></span></p>"}}