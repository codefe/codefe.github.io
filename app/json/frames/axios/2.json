{"sta":1,"data":{"subTitle":"axios 库封装","content":"<pre><code>import axios from 'axios';\nimport { baseURL } from '@/config'\n\nclass Http {\n    constructor(baseUrl) {\n        this.baseURL = baseURL;\n        this.timeout = 3000;\n    }\n    setInterceptor(instance) {\n        instance.interceptors.request.use(config =&gt; {\n            return config;\n        });\n        instance.interceptors.response.use(res =&gt; {\n            if (res.status == 200) {\n                return Promise.resolve(res.data);\n            } else {\n                return Promise.reject(res);\n            }\n        }, err =&gt; {\n            return Promise.reject(err);\n        });\n    }\n    mergeOptions(options) {\n        return {\n            baseURL: this.baseURL,\n            timeout: this.timeout,\n            ...options\n        }\n    }\n    request(options) {\n        const instance = axios.create();\n        const opts = this.mergeOptions(options);\n        this.setInterceptor(instance);\n        return instance(opts);\n    }\n    get(url, config = {}) {\n        return this.request({\n            method: 'get',\n            url: url,\n            ...config\n        })\n    }\n    post(url, data) {\n        return this.request({\n            method: 'post',\n            url,\n            data\n        })\n    }\n}\nexport default new Http;</code></pre><p><br></p>"}}