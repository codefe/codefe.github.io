{"sta":1,"data":{"subTitle":"v-model的实现原理","content":"<p>通俗讲 v-model 可以看成是 value + input 的语法糖。</p><p>组件的 v-model 也确实是这样 。在组件初始化的时候, 如果检测到有 model 属性,就会调用 transformModel 方法转化 model。如果没有 prop 属性和 event 属性, 则默认会给组件 prop 为 value 属性, 给 event 为 input 事件 。把 prop 的属性赋给了 data.attrs 并把值也给了它，即 data.attrs.value = '我们所赋的值'。会给 on 绑定 input 事件，对应的就是 callback。</p><p>&nbsp;\n<br>如果在组件内自定义 model 的 prop 和 event, 这样的话组件初始化的时候, 接受 属性 和 事件 时不再是 value 和 input 了, 而是我们自定义的 属性 和 事件。</p><p>&nbsp;\n<br>如果是普通的标签, 则在运行时会自动判断标签的类型, 生成不同的属性 domProp 和 事件 on。还增加了指令 directive, 针对输入框的输入法加上了一些逻辑并做了校验和处理。&nbsp;<br></p>"}}