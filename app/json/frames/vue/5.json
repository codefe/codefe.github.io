{"sta":1,"data":{"subTitle":"setup","content":"<p>1. setup执行的时机</p><p>在beforeCreate之前执行(一次), 此时组件对象还没有创建\n<br>this是undefined, 不能通过this来访问data/computed/methods / props\n<br>其实所有的composition API相关回调函数中也都不可以\n<br>\n<br>\n<br>2. setup的返回值\n<br>\n<br>一般都返回一个对象: 为模板提供数据, 也就是模板中可以直接使用此对象中的所有属性/方法\n<br>返回对象中的属性会与data函数返回对象的属性合并成为组件对象的属性\n<br>返回对象中的方法会与methods中的方法合并成功组件对象的方法\n<br>如果有重名, setup优先\n<br>注意:\n<br>一般不要混合使用: methods中可以访问setup提供的属性和方法, 但在setup方法中不能访问data和methods\n<br>setup不能是一个async函数: 因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性数据\n<br>\n<br>3. setup的参数\n<br>\n<br>setup(props, context) / setup(props, {attrs, slots, emit})\n<br>props: 包含props配置声明且传入了的所有属性的对象\n<br>attrs: 包含没有在props配置中声明的属性的对象, 相当于 this.$attrs\n<br>slots: 包含所有传入的插槽内容的对象, 相当于 this.$slots\n<br>emit: 用来分发自定义事件的函数, 相当于 this.$emit</p>"}}