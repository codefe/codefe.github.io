{"sta":1,"data":{"subTitle":"组件优化","content":"<h3>Component的2个问题</h3><p>    1. 只要执行setState(),即使不改变状态数据，组件也会重新render ==&gt; 效率低\n<br>    2. 只当前组件重新render，就会自动重新render子组件，纵使子组件没有用到父组件的任何数据 ==&gt; 效率低\n<br>\n<br><h3>效率高的做法\n</h3>    只有当组件的state或props数据发生改变时才重新render\n<br>\n<br><h3>原因\n</h3>    Component中的shouldComponentUpdate()总是返回true\n<br>\n<br><h3>解决\n</h3><h4>办法一：\n</h4>    重写shouldComponentUpdate方法\n<br>    比较新旧state或props数据，如果有变化才返回true，否则返回false\n<br>\n<br><h4>办法二：\n</h4>    使用PureComponent\n<br>    PureComponent重写了shouldComponentUpdate,只有state或props数据发生改变才返回true\n<br>    注意：\n<br>        只是进行state和props数据的浅比较，如果只是数据对象内部数据变了，返回false\n<br>        不要直接修改state数据，而是要产生新数据\n<br>\n<br><blockquote>总结：项目中一般使用PureComponent来优化.&nbsp;</blockquote></p><p><br></p><p><br></p>"}}