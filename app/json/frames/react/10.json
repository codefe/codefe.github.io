{"sta":1,"data":{"subTitle":"组件简写优化","content":"<p>原代码：</p><pre>class MyComponent extends React.Component {\n    //初始化状态\n    constructor(props){\n        super(props)\n        this.state = { flag: false }\n        this.changeState = this.changeState.bind(this)\n    }\n    render() {\n        const { flag } = this.state\n        return &lt;h2 onClick={this.changeState}&gt;改变a的值&lt;/h2&gt;\n    }\n    //自定义方法\n    changeState(){\n        const { flag } = this.state\n        this.setState({\n            flag: !flag\n        })\n    }\n}</pre><p>优化后代码：</p><pre>class MyComponent extends React.Component {\n    //初始化状态\n    state = { flag: false }\n    render() {\n        const { flag } = this.state\n        return &lt;h2 onClick={this.changeState}&gt;改变a的值&lt;/h2&gt;\n    }\n    //自定义方法,赋值+箭头函数可以绑定外层的this\n    changeState = ()=&gt;{\n        const { flag } = this.state\n        this.setState({\n            flag: !flag\n        })\n    }\n}</pre><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>"}}