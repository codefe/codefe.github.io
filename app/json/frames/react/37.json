{"sta":1,"data":{"subTitle":"如何使用“引用传递 Forwarding Refs”","content":"<p>引用传递（Ref forwading）是一种通过组件向子组件自动传递 引用 ref 的技术。比如某些 input 组件，需要控制其 focus，本来是可以使用 ref 来控制，但是因为该 input 已被包裹在组件中，这时就需要使用 Ref forward 来透过组件获得该 input 的引用。<br></p><pre>import React, { forwardRef, useEffect, useRef } from \"react\";\n\nconst FocusInput = forwardRef(function FocusInput(props, ref) {\n  return &lt;input type=\"text\" ref={ref} defaultValue={props.inputDefault} /&gt;;\n});\n\nconst MyDemo21 = () =&gt; {\n  const inputRef = useRef(null);\n  useEffect(() =&gt; {\n    if (!!inputRef.current) {\n      inputRef.current.focus();\n    }\n  });\n  return (\n    &lt;div&gt;\n      &lt;p&gt;forward ref&lt;/p&gt;\n      &lt;FocusInput ref={inputRef} inputDefault={\"默认值\"} /&gt;\n    &lt;/div&gt;\n  );\n};\nexport default MyDemo21;</pre><p><img src=\"/app/json/frames/react/img/r17.jpg\" style=\"max-width:100%;\"></p><p>上述示例中，子组件使用了 forwardRef 进行包裹，则父组件可以通过 ref 透传对子组件的控制。也就是首次渲染子组件的时候，就会将光标放置在子组件的 input 输入框中。</p><p><br></p>"}}