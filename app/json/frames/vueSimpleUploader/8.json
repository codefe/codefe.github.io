{"sta":1,"data":{"subTitle":"前端做分片检验","content":"<p>前面讲的是概念，现在说一说前端在拿到这些返回值之后怎么处理。<br>插件自己是不会判断哪个需要跳过的，在代码中由<code>options</code>中的<code>checkChunkUploadedByResponse</code>控制，它会根据 XHR 响应内容检测每个块是否上传成功了，成功的分片直接跳过上传<br>你要在这个函数中进行处理，可以跳过的情况下返回true即可。<br></p><pre><code>checkChunkUploadedByResponse: function (chunk, message) {\n\t let objMessage = JSON.parse(message);\n     if (objMessage.skipUpload) {\n         return true;\n     }\n\n     return (objMessage.uploaded || []).indexOf(chunk.offset + 1) &gt;= 0\n},</code></pre><p>注：skipUpload 和 uploaded 是我和后台商议的字段，你要按照后台实际返回的字段名来。</p>"}}