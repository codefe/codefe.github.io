{"sta":1,"data":{"subTitle":"图片url转化成base64","content":"<pre><code>/**\n * 图片url转化成base64\n * @param {*} url 图片url\n * @param {*} callback \n * @param {*} outputFormat 图片格式\n */\nexport const imgUrlToDataURL = (url, callback, outputFormat) =&gt; {\n  let canvas = document.createElement('canvas'),\n    ctx = canvas.getContext('2d'),\n    img = new Image;\n  img.crossOrigin = 'Anonymous';\n  img.src = url + \"?timeStamp=\" + new Date().getTime();\n  img.onload = function () {\n    canvas.height = img.height;\n    canvas.width = img.width;\n    // ctx.drawImage(img, 0, 0);\n    ctx.drawImage(this, 0, 0, img.width, img.height);\n    let dataURL = canvas.toDataURL(outputFormat || 'image/png');\n    // callback.call(this, dataURL);\n    callback &amp;&amp; callback(dataURL)\n    canvas = null;\n  };\n}</code></pre><p><br></p>"}}