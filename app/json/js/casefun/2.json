{"sta":1,"data":{"subTitle":"判断微信浏览器","content":"<p>我们知道 js 可以通过 window.navigator.userAgent 来获取浏览器的相关信息，比如：Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36，那么我们也可以通过该方法来获取微信内置浏览器的相关信息：Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_1 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Mobile/11d201 MicroMessenger/5.3。根据关键字 MicroMessenger 来判断是否是微信内置的浏览器。判断函数如下：<br></p><pre><code>function isWeiXin(){\n    var ua = window.navigator.userAgent.toLowerCase();\n    if(ua.match(/MicroMessenger/i) == 'micromessenger'){\n        return true;\n    }else{\n        return false;\n    }\n}</code></pre><p>demo：</p><pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"/&gt;\n    &lt;title&gt;判断是否是微信内置浏览器&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;如果用微信浏览器打开可以看到下面的文字&lt;/h1&gt;\n    &lt;p&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function(){\n    if(isWeiXin()){\n        var p = document.getElementsByTagName('p');\n        p[0].innerHTML = window.navigator.userAgent;\n    }\n}\nfunction isWeiXin(){\n    var ua = window.navigator.userAgent.toLowerCase();\n    if(ua.match(/MicroMessenger/i) == 'micromessenger'){\n        return true;\n    }else{\n        return false;\n    }\n}\n&lt;/script&gt;</code></pre><p><br></p>"}}