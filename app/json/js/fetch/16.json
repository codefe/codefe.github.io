{"sta":1,"data":{"subTitle":"Response.clone","content":"<p>Stream 对象只能读取一次，读取完就没了。这意味着，前一节的五个读取方法，只能使用一个，否则会报错。</p><pre><span>let</span> text <span>=</span>  await response<span>.</span><span>text<span>(</span></span><span>)</span><span>;</span>\n<span>let</span> json <span>=</span>  await response<span>.</span><span>json<span>(</span></span><span>)</span><span>;</span> <span spellcheck=\"true\"> // 报错\n</span></pre><p>上面示例先使用了<code>response.text()</code>，就把 Stream 读完了。后面再调用<code>response.json()</code>，就没有内容可读了，所以报错。</p><p>Response 对象提供<code>Response.clone()</code>方法，创建<code>Response</code>对象的副本，实现多次读取。</p><pre><code>const response1 <span>=</span> await <span>fetch<span>(</span></span><span>'flowers.jpg'</span><span>)</span><span>;</span>\nconst response2 <span>=</span> response1<span>.</span><span>clone<span>(</span></span><span>)</span><span>;</span>\n\nconst myBlob1 <span>=</span> await response1<span>.</span><span>blob<span>(</span></span><span>)</span><span>;</span>\nconst myBlob2 <span>=</span> await response2<span>.</span><span>blob<span>(</span></span><span>)</span><span>;</span>\n\nimage1<span>.</span>src <span>=</span> URL<span>.</span><span>createObjectURL<span>(</span></span>myBlob1<span>)</span><span>;</span>\nimage2<span>.</span>src <span>=</span> URL<span>.</span><span>createObjectURL<span>(</span></span>myBlob2<span>)</span><span>;</span>\n</code></pre><p>上面示例中，<code>response.clone()</code>复制了一份 Response 对象，然后将同一张图片读取了两次。</p><p></p><p>Response 对象还有一个<code>Response.redirect()</code>方法，用于将 Response 结果重定向到指定的 URL。该方法一般只用在 Service Worker 里面，这里就不介绍了。</p>"}}