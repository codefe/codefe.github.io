{"sta":1,"data":{"subTitle":"实例：如何渲染十万条数据并不卡住界面","content":"<p>不能一次性将几万条都渲染出来，而应该一次渲染部分 DOM，那么就可以通过 requestAnimationFrame 来每 16 ms 刷新一次。</p><p>代码如下：</p><pre>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;js如何渲染十万条数据并不卡住界面&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;ul&gt;控件&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;</pre><p>js</p><pre>setTimeout(() =&gt; {\n    let data = 100000;\n    let once = 20;\n    let num = data/once;\n    let currentIndex = 0;\n    let ul = document.querySelector('ul');\n    let frameagent = document.createDocumentFragment();\n    function add(){\n        for (var i = 0; i &lt; once; i++) {\n            let li = document.createElement('li');\n            li.innerText = Math.floor(Math.random() * data);\n            frameagent.appendChild(li);\n        }\n        currentIndex += 1;\n        ul.appendChild(frameagent);\n        loop();\n    }\n    function loop(){\n        if(currentIndex &lt; num){\n            window.requestAnimationFrame(add);\n        }\n    }\n    loop();\n},0)</pre><p><br></p>"}}