{"sta":1,"data":{"subTitle":"基本页面结构布局 及 自定义 Widget 文件 分离","content":"<h3>一、Flutter 基本页面结构 MaterialApp、Scalfold</h3><p>一个 Flutter，准确来说基于 Material 设计的 APP，是需要 MaterialApp 和 Scalfold 两个 Widget 组成的<br>其中 MaterialApp 用来描述 APP 结果，而 Scalfold 用来描述页面的基本结构。<br>比如下面的代码中：</p><pre>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Postbird Flutter')\n        ),\n        body: HomeContent(),\n      ),\n      // theme: ThemeData.dark(),\n      theme: ThemeData(\n        primaryColor: Colors.yellow\n      )\n    );\n  }\n}\n\nclass HomeContent extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(\n        child: Text(\n      'Postbird 自定义 Widget!',\n      textDirection: TextDirection.ltr,\n      style: TextStyle(fontSize: 40, color: Colors.blue),\n    ));\n  }\n}</pre><p>可以发现 MaterialApp 的 home 参数用来指定首页用哪个 Widget 渲染<br>而 Scafold Widget 用来描述一个页面的基本结构，其中 appBar 用来描述导航栏，一般使用 AppBar Widget ，body 则是页面上正常显示的 Widget。<br>最终效果如下：</p><p><img src=\"/app/json/applets/flutter/imgs/2.png\" style=\"max-width:100%;\"></p><p><h3>二、 自定义 Widget 并单独拆分文件\n</h3>项目中我们可能存在大量的自定义 Widget，自定义 Widget 应当单独拆成一个 Widget 文件，Common 的 Widget 更是如此。<br>自定义 Widget 非常简单，就是正常些 Widget 即可，比如我在 widgets/ 目录下写了一个 EachoWidget：<br>主要的作用就是输出一个文本，同时可以指定一个背景颜色。</p><pre>// widgets/EacheWidget.dart\n\nimport 'package:flutter/material.dart';\n\nclass EchoWidegt extends StatelessWidget {\n  const EchoWidegt({\n    @required this.text,\n    this.backgroundColor,\n  });\n\n  final String text;\n  final Color backgroundColor;\n\n  @override\n  Widget build(BuildContext context) {\n    return Center(\n        child: Container(\n      color: this.backgroundColor,\n      child: Text(this.text),\n    ));\n  }\n}</pre><p>在 main.dart 中引用自定义组件：<br>和引入 dart 的库是一样的，import './widegts/EchoWidegt.dart'; ，引入之后可以直接使用</p><pre>import 'package:flutter/material.dart';\nimport './widegts/EchoWidegt.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        home: Scaffold(\n          appBar: AppBar(title: Text('Postbird Flutter')),\n          body: HomeContent(),\n        ),\n        // theme: ThemeData.dark(),\n        theme: ThemeData(primaryColor: Colors.yellow));\n  }\n}\n\nclass HomeContent extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(\n      child: EchoWidegt(\n        text: '啊啊啊啊',\n        backgroundColor: Colors.pink,\n      ),\n    );\n  }\n}</pre><p>效果：</p><p><img src=\"/app/json/applets/flutter/imgs/3.png\" style=\"max-width:100%;\"></p><p><br></p><p><br></p>"}}