{"sta":1,"data":{"subTitle":"visibilitychange事件","content":"<p>只要<code>document.visibilityState</code>属性发生变化，就会触发<code>visibilitychange</code>事件。因此，可以通过监听这个事件（通过<code>document.addEventListener()</code>方法或<code>document.onvisibilitychange</code>属性），跟踪页面可见性的变化。<br></p><pre><code>document.addEventListener('visibilitychange', function () {\n  // 用户离开了当前页面\n  if (document.visibilityState === 'hidden') {\n    document.title = '页面不可见';\n  }\n\n  // 用户打开或回到页面\n  if (document.visibilityState === 'visible') {\n    document.title = '页面可见';\n  }\n});</code></pre><p>上面代码是 Page Visibility API 的最基本用法，可以监听可见性变化。\n<br>\n<br>下面是另一个例子，一旦页面不可见，就暂停视频播放。</p><pre><code>var vidElem = document.getElementById('video-demo');\ndocument.addEventListener('visibilitychange', startStopVideo);\n\nfunction startStopVideo() {\n  if (document.visibilityState === 'hidden') {\n    vidElem.pause();\n  } else if (document.visibilityState === 'visible') {\n    vidElem.play();\n  }\n}</code></pre><p><br></p>"}}