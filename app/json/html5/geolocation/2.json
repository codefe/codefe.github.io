{"sta":1,"data":{"subTitle":"getCurrentPosition","content":"<pre><code>navigator.geolocation.getCurrentPosition(showPosition,showError);</code></pre><h3>1.showPosition</h3><p>如果getCurrentPosition()运行成功，则向参数showPosition中规定的函数返回一个coordinates对象</p><p>showPosition() 函数获得并显示经度和纬度</p><h3>2. showError</h3><p>showError第二个参数用于处理错误。它规定当获取用户位置失败时运行的函数</p><p>错误代码：<br><blockquote>Permission denied - 用户不允许地理定位<br>\nPosition unavailable - 无法获取当前位置<br>\nTimeout - 操作超时</blockquote></p><h3>实例</h3><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;p id=\"demo\"&gt;点击这个按钮，获得您的坐标：&lt;/p&gt;\n&lt;button onclick=\"getLocation()\"&gt;试一下&lt;/button&gt;\n&lt;script&gt;\nvar x=document.getElementById(\"demo\");\nfunction getLocation()\n  {\n  if (navigator.geolocation)\n    {\n    navigator.geolocation.getCurrentPosition(showPosition,showError);\n    }\n  else{x.innerHTML=\"Geolocation is not supported by this browser.\";}\n  }\nfunction showPosition(position)\n  {\n  x.innerHTML=\"Latitude: \" + position.coords.latitude + \n  \"&lt;br /&gt;Longitude: \" + position.coords.longitude;\t\n  }\nfunction showError(error)\n  {\n  switch(error.code) \n    {\n    case error.PERMISSION_DENIED:\n      x.innerHTML=\"User denied the request for Geolocation.\"\n      break;\n    case error.POSITION_UNAVAILABLE:\n      x.innerHTML=\"Location information is unavailable.\"\n      break;\n    case error.TIMEOUT:\n      x.innerHTML=\"The request to get user location timed out.\"\n      break;\n    case error.UNKNOWN_ERROR:\n      x.innerHTML=\"An unknown error occurred.\"\n      break;\n    }\n  }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre><p><br></p>"}}