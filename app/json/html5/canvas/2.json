{"sta":1,"data":{"subTitle":"使用Canvas实现黑客帝国数字雨","content":"<p>今天我们就用 HTML5 的 Canvas 功能实现一款仿文字雨黑客帝国特效的屏保。首先编写一个 Canvas，然后随机产生字母，然后让这些字母掉落。全部实现代码如下：</p><pre><p>&nbsp;<span style=\"background-color: rgb(241, 241, 241); white-space: pre-wrap;\">&lt;!DOCTYPE html&gt;</span></p>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;canvas id=\"c\"&gt;&lt;/canvas&gt;\n    &lt;script&gt;\n        var c = document.getElementById(\"c\");\n        var ctx = c.getContext(\"2d\");\n        c.width = window.innerWidth;\n        c.height = window.innerHeight;\n        //\t\t\t\tctx.fillRect(0,0,100,100);\n        //\t\t\t\ta,b,c,d分别代表x方向偏移,y方向偏移,宽，高\n        var string1 = \"abcdefghijklmnopqrstuvwxyz\";\n        string1.split(\"\");\n        var fontsize = 20;\n        columns = c.width / fontsize;\n        var drop = [];\n        for (var x = 0; x &lt; columns; x++) {\n            drop[x] = 0;\n        }\n        function drap() {\n            ctx.fillStyle = \"rgba(0,0,0,0.07)\";\n            ctx.fillRect(0, 0, c.width, c.height);\n            ctx.fillStyle = \"#0F0\";\n            ctx.font = fontsize + \"px arial\";\n            for (var i = 0; i &lt; drop.length; i++) {\n                var text1 = string1[Math.floor(Math.random() * string1.length)];\n                ctx.fillText(text1, i * fontsize, drop[i] * fontsize);\n                drop[i]++;\n                if (drop[i] * fontsize &gt; c.height &amp;&amp; Math.random() &gt; 0.9) {//90%的几率掉落\n                    drop[i] = 0;\n                }\n            }\n        }\n        setInterval(drap, 20);\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;</pre><p><br></p>"}}