{"sta":1,"data":{"subTitle":"Canvas手写字","content":"<pre><code>&lt;html&gt;  \n &lt;head&gt;  \n  &lt;title&gt;&lt;/title&gt;  \n  &lt;/head&gt;  \n &lt;body&gt;  \n\n&lt;canvas width=\"800\" height=\"450\"&gt;&lt;/canvas&gt;  \n&lt;script&gt;  \n var canvas = document.getElementsByTagName('canvas')[0];  \n canvas.addEventListener('mousemove', onMouseMove, false);  \n canvas.addEventListener('mousedown', onMouseDown, false);  \n canvas.addEventListener('mouseup', onMouseUp, false);  \n  \n var context = canvas.getContext('2d');  \n var linex = new Array();  \n var liney = new Array();  \n var linen = new Array();  \n  \n var lastX = -1;  \n var lastY = -1;  \n var hue = 0;  \n var flag = 0;  \n  \n function onMouseMove(evt) {  \n    if (flag == 1) {  \n       linex.push(evt.layerX);  \n       liney.push(evt.layerY);  \n       linen.push(1);  \n       context.save();  \n       context.translate(context.canvas.width/2, context.canvas.height/2);  \n       context.translate(-context.canvas.width/2, -context.canvas.height/2);  \n       context.beginPath();  \n       context.lineWidth = 5 + Math.random() * 10;  \n  \n       for (var i=1;i&lt;linex.length;i++) {  \n             lastX = linex[i];  \n             lastY = liney[i];  \n             if (linen[i] == 0) {  \n                context.moveTo(lastX,lastY);  \n             } else {  \n                context.lineTo(lastX,lastY);  \n             }  \n       }  \n  \n       hue = hue + 10 * Math.random();  \n       context.strokeStyle = 'hsl(' + hue + ', 50%, 50%)';  \n       context.shadowColor = 'white';  \n       context.shadowBlur = 10;  \n       context.stroke();  \n       context.restore();  \n    }  \n }  \n function onMouseDown(evt) {  \n    flag = 1;  \n    linex.push(evt.layerX);  \n    liney.push(evt.layerY);  \n    linen.push(0);  \n }  \n function onMouseUp(evt) {  \n    flag = 0;  \n     linex.push(evt.layerX);  \n     liney.push(evt.layerY);  \n    linen.push(0);  \n }  \n&lt;/script&gt;  \n&lt;/body&gt;  \n&lt;/html&gt;</code></pre><p><br></p>"}}