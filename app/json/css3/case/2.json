{"sta":1,"data":{"subTitle":"CSS 实现代码高亮显示行数原理解析","content":"<p>在很多编程网站，大家都会看到很多书写代码的地方进行了高亮显示，并且还显示有代码的行数。这是怎么实现的呢？本文将通过原理层面为你解析。\n\n整个实现的代码很简单，html 代码如下：</p><pre>&lt;div class=\"code\"&gt;&lt;/div&gt;</pre><p>CSS 实现代码如下：</p><pre>.code {\n    padding: 10px 10px 10px 40px;\n    font-size: 13px;\n    line-height: 18px;\n    background-color: #eee;\n    font-family: \"Lucida Console\", Consolas, Monaco;\n    white-space: pre-wrap;\n    word-break: break-all;\n    position: relative;\n    overflow: hidden;\n}\n\n.code::before {\n    content: '01.\\A 02.\\A 03.\\A 04.\\A 05.\\A 06.\\A 07.\\A 08.\\A 09.\\A 10.\\A 11.\\A 12.\\A 13.\\A 14.\\A 15.\\A 16.\\A 17.\\A 18.\\A 19.\\A 20.\\A 21.\\A 22.\\A 23.\\A 24.\\A 25.\\A 26.\\A 27.\\A 28.\\A 29.\\A 30.\\A 31.\\A 32.\\A 33.\\A 34.\\A 35.\\A 36.\\A 37.\\A 38.\\A 39.\\A 40.\\A 41.\\A 42.\\A 43.\\A 44.\\A 45.\\A 46.\\A 47.\\A 48.\\A 49.\\A 50.\\A 51.\\A 52.\\A 53.\\A 54.\\A 55.\\A 56.\\A 57.\\A 58.\\A 59.\\A 60.\\A 61.\\A 62.\\A 63.\\A 64.\\A 65.\\A 66.\\A 67.\\A 68.\\A 69.\\A 70.\\A 71.\\A 72.\\A 73.\\A 74.\\A 75.\\A 76.\\A 77.\\A 78.\\A 79.\\A 80.\\A 81.\\A 82.\\A 83.\\A 84.\\A 85.\\A 86.\\A 87.\\A 88.\\A 89.\\A 90.\\A 91.\\A 92.\\A 93.\\A 94.\\A 95.\\A 96.\\A 97.\\A 98.\\A 99';\n    position: absolute;\n    top: 10px;\n    bottom: 10px;\n    left: 0;\n    text-align: right;\n    background-color: #fbfbfb;\n    color: #333;\n    outline: 100px solid #fbfbfb;\n    clip: rect(-100px 2em 9999px 0);\n    /* IE9+ */\n    clip: rect(-100px 3.5ch 9999px 0);\n    overflow: hidden;\n}</pre><p>CSS构建代码行数的原理如下：<br><blockquote>1. 使用::before伪元素content属性生成，这样不用担心网页框选复制代码的时候行数序号会污染。<br>\n2. 使用\\A控制字符的换行，之前有效果应用过此特性，见“CSS content换行技术实现字符animation loading效果”。<br>\n3. ::before伪元素绝对定位在左侧，祖先元素设置overflow:hidden隐藏多余的行数。</blockquote></p><p><br></p><p><br></p>"}}