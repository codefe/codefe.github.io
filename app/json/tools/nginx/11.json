{"sta":1,"data":{"subTitle":"配置结构","content":"<p>下面是一个nginx配置文件的基本结构：<br></p><p><img src=\"./app/json/tools/nginx/img/1.png\" style=\"max-width:100%;\"></p><p>nginx配置文件的基本结构</p><pre><code>events { \n\n}\nhttp \n{\n    server\n    { \n        location path\n        {\n            ...\n        }\n        location path\n        {\n            ...\n        }\n     }\n    server\n    {\n        ...\n    }\n}</code></pre><p>&nbsp;main:nginx的全局配置，对全局生效。\n<br> events:配置影响nginx服务器或与用户的网络连接。\n<br> http：可以嵌套多个server，配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置。\n<br> server：配置虚拟主机的相关参数，一个http中可以有多个server。\n<br> location：配置请求的路由，以及各种页面的处理情况。\n<br> upstream：配置后端服务器具体地址，负载均衡配置不可或缺的部分。</p><p>内置变量\n<br>下面是nginx一些配置中常用的内置全局变量，你可以在配置的任何位置使用它们。</p><table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><th>&nbsp;变量名</th><th><span style=\"font-weight: normal;\">功能</span>&nbsp;</th></tr><tr><td>&nbsp;$host</td><td>&nbsp;请求信息中的Host，如果请求中没有Host行，则等于设置的服务器名</td></tr><tr><td>&nbsp;$request_method</td><td>&nbsp;客户端请求类型，如GET、POST</td></tr><tr><td>&nbsp;$remote_addr</td><td>&nbsp;客户端的IP地址</td></tr><tr><td>&nbsp;$args</td><td>&nbsp;请求中的参数</td></tr><tr><td>&nbsp;$content_length</td><td>&nbsp;请求头中的Content-length字段</td></tr><tr><td>&nbsp;$http_user_agent</td><td>&nbsp;客户端agent信息</td></tr><tr><td>&nbsp;$http_cookie</td><td>&nbsp;客户端cookie信息</td></tr><tr><td>&nbsp;$remote_port</td><td>&nbsp;客户端的端口</td></tr><tr><td>&nbsp;$server_protocol</td><td>&nbsp;请求使用的协议，如HTTP/1.0、·HTTP/1.1`</td></tr><tr><td>&nbsp;$server_addr</td><td>&nbsp;服务器地址</td></tr><tr><td>&nbsp;$server_name</td><td>&nbsp;服务器名称</td></tr><tr><td>&nbsp;$server_port</td><td>&nbsp;服务器的端口号</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table><p><br></p>"}}