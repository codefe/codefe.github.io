{"sta":1,"data":{"subTitle":"nginx适配PC或移动设备","content":"<p>现在很多网站都是有了PC端和H5站点的，因为这样就可以根据客户设备的不同，显示出体验更好的，不同的页面了。<br></p><p><h3>$http_user_agent的使用：\n</h3>\n<br>Nginx通过内置变量$http_user_agent，可以获取到请求客户端的userAgent，就可以用户目前处于移动端还是PC端，进而展示不同的页面给用户。\n<br>\n<br>操作步骤如下：\n<br>\n<br>1. 在/usr/share/nginx/目录下新建两个文件夹，分别为：pc和mobile目录\n<br>\n</p><pre><code>cd /usr/share/nginx\nmkdir pc\nmkdir mobile</code></pre><p>2. 在pc和miblic目录下，新建两个index.html文件，文件里下面内容<br></p><pre><code>&lt;h1&gt;I am pc!&lt;/h1&gt;</code></pre><pre><code>&lt;h1&gt;I am mobile!&lt;/h1&gt;</code></pre><p>3. 进入etc/nginx/conf.d目录下，修改8001.conf文件，改为下面的形式:<br></p><pre><code>server{\n     listen 80;\n     server_name nginx2.xxx.com;\n     location / {\n      root /usr/share/nginx/pc;\n      if ($http_user_agent ~* '(Android|webOS|iPhone|iPod|BlackBerry)') {\n         root /usr/share/nginx/mobile;\n      }\n      index index.html;\n     }\n}</code></pre><p><br></p>"}}