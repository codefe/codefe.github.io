{"sta":1,"data":{"subTitle":"文件指纹","content":"<p></p><div><p>文件指纹是打包后输出的文件名的后缀。</p><p>Hash：和整个项目的构建相关，只要项目文件有修改，整个项目构建的 hash 值就会更改\n<br>Chunkhash：和 Webpack 打包的 chunk 有关，不同的 entry 会生出不同的 chunkhash\n<br>Contenthash：根据文件内容来定义 hash，文件内容不变，则 contenthash 不变\n<br>\n<br><h3>JS的文件指纹设置\n</h3>设置 output 的 filename，用 chunkhash。\n<br>\n</p><pre><code>module.exports = {\n    entry: {\n        app: './scr/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name][chunkhash:8].js',\n        path:__dirname + '/dist'\n    }\n}</code></pre><p><br></p><p><h3>CSS的文件指纹设置\n</h3>设置 MiniCssExtractPlugin 的 filename，使用 contenthash。\n<br>\n</p><pre><code>module.exports = {\n    entry: {\n        app: './scr/app.js',\n        search: './src/search.js'\n    },\n    output: {\n        filename: '[name][chunkhash:8].js',\n        path:__dirname + '/dist'\n    },\n    plugins:[\n        new MiniCssExtractPlugin({\n            filename: `[name][contenthash:8].css`\n        })\n    ]\n}</code></pre><p><br></p><p><h3>图片的文件指纹设置\n</h3>设置file-loader的name，使用hash。\n<br>\n<br>占位符名称及含义\n<br>\n<br>ext 资源后缀名\n<br>name 文件名称\n<br>path 文件的相对路径\n<br>folder 文件所在的文件夹\n<br>contenthash 文件的内容hash，默认是md5生成\n<br>hash 文件内容的hash，默认是md5生成\n<br>emoji 一个随机的指代文件内容的emoji\n<br>const path = require('path');\n<br>\n</p><pre><code>module.exports = {\n    entry: './src/index.js',\n    output: {\n        filename:'bundle.js',\n        path:path.resolve(__dirname, 'dist')\n    },\n    module:{\n        rules:[{\n            test:/\\.(png|svg|jpg|gif)$/,\n            use:[{\n                loader:'file-loader',\n                options:{\n                    name:'img/[name][hash:8].[ext]'\n                }\n            }]\n        }]\n    }\n}</code></pre><p><br></p></div>"}}