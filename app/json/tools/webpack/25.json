{"sta":1,"data":{"subTitle":"配置 externals 引入 cdn 资源","content":"<p>防止将某些 import 的包(package)打包到 bundle 中，而是在运行时(runtime)再去从外部获取这些扩展依赖<br></p><pre><code>module.exports = {\n  configureWebpack: config =&gt; {\n    config.externals = {\n      vue: \"Vue\",\n      \"element-ui\": \"ELEMENT\",\n      \"vue-router\": \"VueRouter\",\n      vuex: \"Vuex\",\n      axios: \"axios\"\n    };\n  },\n  chainWebpack: config =&gt; {\n    const cdn = {\n      // 访问https://unpkg.com/element-ui/lib/theme-chalk/index.css获取最新版本\n      css: [\"//unpkg.com/element-ui@2.10.1/lib/theme-chalk/index.css\"],\n      js: [\n        \"//unpkg.com/vue@2.6.10/dist/vue.min.js\", // 访问https://unpkg.com/vue/dist/vue.min.js获取最新版本\n        \"//unpkg.com/vue-router@3.0.6/dist/vue-router.min.js\",\n        \"//unpkg.com/vuex@3.1.1/dist/vuex.min.js\",\n        \"//unpkg.com/axios@0.19.0/dist/axios.min.js\",\n        \"//unpkg.com/element-ui@2.10.1/lib/index.js\"\n      ]\n    };\n\n    // 如果使用多页面打包，使用vue inspect --plugins查看html是否在结果数组中\n    config.plugin(\"html\").tap(args =&gt; {\n      // html中添加cdn\n      args[0].cdn = cdn;\n      return args;\n    });\n  }\n};</code></pre><p>在 html 中添加</p><pre><code>&lt;!-- 使用CDN的CSS文件 --&gt;\n&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;\nhtmlWebpackPlugin.options.cdn.css) { %&gt;\n&lt;link rel=\"stylesheet\" href=\"&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;\" /&gt;\n&lt;% } %&gt;\n\n&lt;!-- 使用CDN的JS文件 --&gt;\n&lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp;\nhtmlWebpackPlugin.options.cdn.js) { %&gt;\n&lt;script\n  type=\"text/javascript\"\n  src=\"&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;\"\n&gt;&lt;/script&gt;\n&lt;% } %&gt;</code></pre><p><br></p>"}}